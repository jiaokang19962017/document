<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>心跳效果</title>
    <style type="text/css">
        body{ text-align:center; background-color:#000;}
        .slide_Box_mt{ margin:0 auto; width:523px; height:425px;}
        p span{ color:#fff; line-height:150%; font-family:Verdana,"微软雅黑","宋体"}
    </style>



    <script id="jquery_144" type="text/javascript" class="library" src="/js/sandbox/jquery/jquery-1.4.4.min.js"></script>
</head>

<body>
<div class="slide_Box_mt"></div>
<p>
    <span>心跳效果   BY  木头人</span>
</p>
</body>
</html>
<script type="text/javascript">
    /*
     *作者：木头人
     *编写时间：2012-11-21
     *QQ群：1296602
     */


    var parts = 100;										//切割数量
    var imgIndex = 0;										//当前图片

    $(function(){
        var op = {
            width_mt : 523,							//外框容器宽度.(与图片宽度一致)
            height_mt: 425,							//外框容器高度.(与图片高度一致)
            imgurl: 'http://img170.poco.cn/mypoco/myphoto/20121121/16/6653149820121121163347025.jpg'				//默认图片.
        };
        var cut_w = op.width_mt/parts;				//小块宽度
        var cut_h = op.height_mt;					//小块高度
        var $this = $(".slide_Box_mt");


        //设置小div进行图片切割.
        for(var i=0;i<parts;i++){
            var div1 = '<div class="scut_mt" style=" \
						width:'+cut_w+'px; \
						height:'+cut_h+'px; \
						float:left;\
						display:inline;\
						background-image:url('+op.imgurl+');\
						background-repeat:no-repeat; \
						background-position:'+(-i*cut_w)+'px '+0+'px"\
					></div>'";
            $this.append(div1);
        }
        $(".scut_mt").css({opacity:0});

        Jump();
    });

    function Jump(){
        $(".scut_mt:eq("+imgIndex+")").animate({opacity:1},50,function(){
            $(".scut_mt:eq("+imgIndex+")").animate({opacity:0.3},50,function(){
                if(imgIndex<parts-1){
                    imgIndex++;
                    Jump();
                }else{
                    imgIndex=0;
                    $(".scut_mt").css({opacity:0});
                    Jump();
                }
            });
        });
    }


</script>
